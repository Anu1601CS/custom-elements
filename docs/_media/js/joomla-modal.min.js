class ModalElement extends HTMLElement{constructor(o){super(),this.includeCss(),window.Joomla=window.Joomla||{},window.Joomla.UI={},window.Joomla.UI.modal={}}connectedCallback(){const o=this;let e=document.querySelector('button[data-href="#'+this.id+'"]');e&&e.addEventListener("click",function(e){var t=o.findAncestor(o,"joomla-modal");t&&(window.Joomla.UI.modal.element=t,console.log(Joomla.UI.modal));let l=document.createElement("div");this.querySelector(".modal-content");l.classList.add("modal-backdrop","show"),t||document.body.appendChild(l),o.classList.toggle("show"),o.focus()});const t=this.querySelectorAll('button[data-dismiss="modal"]');for(var l=0,d=t.length;l<d;l++)t[l].addEventListener("click",function(e){var t=o.findAncestor(e.target,"joomla-modal"),l=o.findAncestor(t,"joomla-modal");console.log(t),console.log(l),l?t.classList.remove("show"):t.close()})}disconnectedCallback(){}adoptedCallback(o,e){}static get observedAttributes(){}attributeChangedCallback(o,e,t){o}close(){const o=document.querySelector(".modal-backdrop");o&&document.body.removeChild(o),this.classList.toggle("show")}findAncestor(o,e){for(;(o=o.parentElement)&&o.nodeName.toLowerCase()!==e;);return o}includeCss(){if(!document.getElementById("joomla-modal-stylesheet")){const o=document.createElement("style");o.id="joomla-modal-stylesheet",o.innerHTML=`joomla-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;overflow:hidden;display:none;outline:0}joomla-modal.show{display:block}`,document.head.appendChild(o)}}}customElements.define("joomla-modal",ModalElement);